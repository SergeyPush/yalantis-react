(this["webpackJsonpyalantis-react-test"]=this["webpackJsonpyalantis-react-test"]||[]).push([[0],{38:function(e,t,c){},57:function(e,t,c){"use strict";c.r(t);var s=c(1),n=c(0),r=c.n(n),a=c(7),i=c.n(a),l=c(4),o=c(5),d=c(23),u=c(24),j=c(8),b=c(2),O="FETCH_USERS",h="SELECT_USER",p="RESTORE_SELECTED",f={fetchedUsers:[],selectedUsers:[]},m=Object(o.combineReducers)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0,c=t.type,s=t.payload;switch(c){case O:return Object(b.a)(Object(b.a)({},e),{},{fetchedUsers:s});case h:var n=e.selectedUsers.find((function(e){return e.id===s.id}));if(!n)return Object(b.a)(Object(b.a)({},e),{},{selectedUsers:[].concat(Object(j.a)(e.selectedUsers),[s])});var r=e.selectedUsers.filter((function(e){return e.id!==s.id}));return Object(b.a)(Object(b.a)({},e),{},{selectedUsers:r});case p:return Object(b.a)(Object(b.a)({},e),{},{selectedUsers:s});default:return e}}}),y=[u.a],v=Object(o.createStore)(m,Object(d.composeWithDevTools)(o.applyMiddleware.apply(void 0,y))),x=(c(38),c(6)),g=function(e){var t=e.employee,c=e.months,n=t.firstName,r=t.lastName,a=t.dob,i=new Date(a),l=i.getFullYear(),o=i.getMonth(),d=i.getDate();return Object(s.jsx)("div",{children:Object(s.jsx)("p",{"data-testid":"employee",children:"".concat(r," ").concat(n," - ").concat(d," ").concat(c[o]," ").concat(l," year")})})},N=function(){var e=Object(l.c)((function(e){return e.users.selectedUsers})),t=["January","February","March","April","May","June","July","August","September","October","November","December"],c=e.reduce((function(e,t){var c=new Date(t.dob).getMonth();return void 0===e[c]?Object(b.a)(Object(b.a)({},e),{},Object(x.a)({},c,[t])):Object(b.a)(Object(b.a)({},e),{},Object(x.a)({},c,[t].concat(Object(j.a)(e[c]))))}),{}),n=Object.keys(c);return Object(s.jsxs)("div",{className:"calendar",children:[Object(s.jsx)("h1",{className:"calendar-title",children:"Employees Birsdays"}),Object(s.jsx)(s.Fragment,{children:e.length>0?n.map((function(e){return Object(s.jsxs)("div",{className:"emp-list",children:[Object(s.jsx)("h3",{className:"calendar-month-title",children:t[e]}),c[e].map((function(e){return Object(s.jsx)(g,{employee:e,months:t},e.id)}))]},e)})):Object(s.jsx)("p",{children:"No selected employees"})})]})},U=c(13),E=c.n(U),S=c(25),w=c(26),C=c.n(w),k=function(e){var t=e.mat\u0441hedUsers,c=Object(l.b)(),n=Object(l.c)((function(e){return e.users.selectedUsers})),r=function(e){var t=n.find((function(t){return t.id===e.id}));return!!t&&!!t};return Object(s.jsx)("div",{children:t.map((function(e){return Object(s.jsxs)("div",{className:"user-item",children:[Object(s.jsx)("p",{className:"user-data",children:"".concat(e.lastName," ").concat(e.firstName)}),Object(s.jsx)("input",{type:"checkbox",checked:r(e),onChange:function(){return function(e){c({type:"SELECT_USER",payload:e})}(e)},"data-testid":"checkbox"})]},e.id)}))})},F=function(){var e="abcdefghijklmnopqrstuvwxyz".split(""),t=Object(l.b)(),c=Object(l.c)((function(e){return e.users.fetchedUsers})),r=Object(l.c)((function(e){return e.users.selectedUsers}));return Object(n.useEffect)((function(){t(function(){var e=Object(S.a)(E.a.mark((function e(t){var c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("https://yalantis-react-school-api.yalantis.com/api/task0/users");case 2:c=e.sent,t({type:O,payload:c.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t((function(e){try{var t=localStorage.getItem("selectedUsers");t&&e({type:p,payload:JSON.parse(t)})}catch(c){console.log(c)}}))}),[t]),Object(n.useEffect)((function(){localStorage.setItem("selectedUsers",JSON.stringify(r))}),[r]),Object(s.jsxs)("div",{className:"contact",children:[Object(s.jsx)("h1",{children:"Employees"}),Object(s.jsx)("div",{className:"letter-list",children:e.map((function(e){var t=c.filter((function(t){return t.lastName[0].toLowerCase()===e}));return Object(s.jsxs)("div",{className:"letter-item",children:[Object(s.jsx)("p",{className:"capital-letter",children:e.toUpperCase()}),t.length>0?Object(s.jsx)(k,{"mat\u0441hedUsers":t}):Object(s.jsx)("p",{children:Object(s.jsx)("span",{className:"line"})})]},e)}))})]})},T=function(){return Object(s.jsxs)("div",{className:"app",children:[Object(s.jsx)(F,{}),Object(s.jsx)(N,{})]})},D=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,58)).then((function(t){var c=t.getCLS,s=t.getFID,n=t.getFCP,r=t.getLCP,a=t.getTTFB;c(e),s(e),n(e),r(e),a(e)}))};i.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(l.a,{store:v,children:Object(s.jsx)(T,{})})}),document.getElementById("root")),D()}},[[57,1,2]]]);
//# sourceMappingURL=main.28169b30.chunk.js.map